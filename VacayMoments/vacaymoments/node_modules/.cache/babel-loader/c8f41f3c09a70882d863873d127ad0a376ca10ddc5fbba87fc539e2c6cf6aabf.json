{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport UserLogin from '@/views/UserLogin.vue';\nimport UserRegisto from '@/views/UserRegisto.vue';\nimport PaginaInicial from '@/views/PaginaInicial.vue';\nimport PaginaUtilizador from '@/views/PaginaUtilizador.vue';\nimport AdicionarFoto from '@/views/AdicionarFoto.vue';\nimport DefinicoesUtilizador from '@/views/DefinicoesUtilizador.vue';\nimport AlterarEmail from '@/views/AlterarEmail.vue';\nimport AlterarPassword from '@/views/AlterarPassword.vue';\nimport AlterarNome from '@/views/AlterarNome.vue';\n\n// Em seu arquivo de rotas (por exemplo, router.js)\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login', '/register']; // Páginas que não requerem autenticação\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('token');\n  if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n  next();\n});\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes: [{\n    path: '/login',\n    name: 'UserLogin',\n    component: UserLogin\n  }, {\n    path: '/registo',\n    name: 'UserRegisto',\n    component: UserRegisto\n  }, {\n    path: '/paginainicial',\n    name: 'PaginaInicial',\n    component: PaginaInicial\n  }, {\n    path: '/paginautilizador',\n    name: 'PaginaUtilizador',\n    component: PaginaUtilizador\n  }, {\n    path: '/adicionarfoto',\n    name: 'AdicionarFoto',\n    component: AdicionarFoto\n  }, {\n    path: '/definicoes',\n    name: 'DefinicoesUtilizador',\n    component: DefinicoesUtilizador\n  }, {\n    path: '/alteraremail',\n    name: 'AlterarEmail',\n    component: AlterarEmail\n  }, {\n    path: '/alterarpassword',\n    name: 'AlterarPassword',\n    component: AlterarPassword\n  }, {\n    path: '/alterarnome',\n    name: 'AlterarNome',\n    component: AlterarNome\n  }\n  // ... outras rotas\n  ]\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","UserLogin","UserRegisto","PaginaInicial","PaginaUtilizador","AdicionarFoto","DefinicoesUtilizador","AlterarEmail","AlterarPassword","AlterarNome","router","beforeEach","to","from","next","publicPages","authRequired","includes","path","loggedIn","localStorage","getItem","history","process","env","BASE_URL","routes","name","component"],"sources":["C:/Users/bruno/OneDrive - UTAD/Ambiente de Trabalho/G6_23-24/VacayMoments/vacaymoments/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport UserLogin from '@/views/UserLogin.vue';\r\nimport UserRegisto from '@/views/UserRegisto.vue';\r\nimport PaginaInicial from '@/views/PaginaInicial.vue';\r\nimport PaginaUtilizador from '@/views/PaginaUtilizador.vue';\r\nimport AdicionarFoto from '@/views/AdicionarFoto.vue';\r\nimport DefinicoesUtilizador from '@/views/DefinicoesUtilizador.vue';\r\nimport AlterarEmail from '@/views/AlterarEmail.vue';\r\nimport AlterarPassword from '@/views/AlterarPassword.vue';\r\nimport AlterarNome from '@/views/AlterarNome.vue';\r\n\r\n// Em seu arquivo de rotas (por exemplo, router.js)\r\nrouter.beforeEach((to, from, next) => {\r\n  const publicPages = ['/login', '/register']; // Páginas que não requerem autenticação\r\n  const authRequired = !publicPages.includes(to.path);\r\n  const loggedIn = localStorage.getItem('token');\r\n\r\n  if (authRequired && !loggedIn) {\r\n    return next('/login');\r\n  }\r\n\r\n  next();\r\n});\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes: [\r\n    {\r\n      path: '/login',\r\n      name: 'UserLogin',\r\n      component: UserLogin\r\n    },\r\n    {\r\n      path: '/registo',\r\n      name: 'UserRegisto',\r\n      component: UserRegisto\r\n    },\r\n    {\r\n      path: '/paginainicial',\r\n      name: 'PaginaInicial',\r\n      component: PaginaInicial\r\n    },\r\n\r\n    {\r\n      path: '/paginautilizador',\r\n      name: 'PaginaUtilizador',\r\n      component: PaginaUtilizador\r\n    },\r\n    {\r\n      path: '/adicionarfoto',\r\n      name: 'AdicionarFoto',\r\n      component: AdicionarFoto\r\n    },\r\n    {\r\n      path: '/definicoes',\r\n      name: 'DefinicoesUtilizador',\r\n      component: DefinicoesUtilizador\r\n    },\r\n    {\r\n      path: '/alteraremail',\r\n      name: 'AlterarEmail',\r\n      component: AlterarEmail\r\n    },\r\n    {\r\n      path: '/alterarpassword',\r\n      name: 'AlterarPassword',\r\n      component: AlterarPassword\r\n    },\r\n    {\r\n      path: '/alterarnome',\r\n      name: 'AlterarNome',\r\n      component: AlterarNome\r\n    },\r\n    // ... outras rotas\r\n  ],\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,gBAAgB,MAAM,8BAA8B;AAC3D,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,oBAAoB,MAAM,kCAAkC;AACnE,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,WAAW,MAAM,yBAAyB;;AAEjD;AACAC,MAAM,CAACC,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,WAAW,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC;EAC7C,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACM,IAAI,CAAC;EACnD,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE9C,IAAIL,YAAY,IAAI,CAACG,QAAQ,EAAE;IAC7B,OAAOL,IAAI,CAAC,QAAQ,CAAC;EACvB;EAEAA,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEF,MAAMJ,MAAM,GAAGX,YAAY,CAAC;EAC1BuB,OAAO,EAAEtB,gBAAgB,CAACuB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CC,MAAM,EAAE,CACN;IACER,IAAI,EAAE,QAAQ;IACdS,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAE3B;EACb,CAAC,EACD;IACEiB,IAAI,EAAE,UAAU;IAChBS,IAAI,EAAE,aAAa;IACnBC,SAAS,EAAE1B;EACb,CAAC,EACD;IACEgB,IAAI,EAAE,gBAAgB;IACtBS,IAAI,EAAE,eAAe;IACrBC,SAAS,EAAEzB;EACb,CAAC,EAED;IACEe,IAAI,EAAE,mBAAmB;IACzBS,IAAI,EAAE,kBAAkB;IACxBC,SAAS,EAAExB;EACb,CAAC,EACD;IACEc,IAAI,EAAE,gBAAgB;IACtBS,IAAI,EAAE,eAAe;IACrBC,SAAS,EAAEvB;EACb,CAAC,EACD;IACEa,IAAI,EAAE,aAAa;IACnBS,IAAI,EAAE,sBAAsB;IAC5BC,SAAS,EAAEtB;EACb,CAAC,EACD;IACEY,IAAI,EAAE,eAAe;IACrBS,IAAI,EAAE,cAAc;IACpBC,SAAS,EAAErB;EACb,CAAC,EACD;IACEW,IAAI,EAAE,kBAAkB;IACxBS,IAAI,EAAE,iBAAiB;IACvBC,SAAS,EAAEpB;EACb,CAAC,EACD;IACEU,IAAI,EAAE,cAAc;IACpBS,IAAI,EAAE,aAAa;IACnBC,SAAS,EAAEnB;EACb;EACA;EAAA;AAEJ,CAAC,CAAC;AAEF,eAAeC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}